grammar org.xtext.example.mydsl.MyDsl with org.eclipse.xtext.common.Terminals

generate myDsl "http://www.xtext.org/example/mydsl/MyDsl"

Config:
    entries+=Entry*;
    
Type: 
	IntType|StringType|BoolType|IPType
;

IntType:
	'Int'(',' constraints+=IntConstraint)*
;

StringType:
	'String'(',' constraints+=StringConstraint)*
;

BoolType:
	'Bool'(',' constraints+=BoolConstraint)*
;

IPType:
	'IP'(',' constraints+=IPConstraint)*
;

StringConstraint:
	Comparator (STRING|INT)|('prefix'|'suffix') STRING | CaseType | GeneralConstraint 
;

CaseType:
	caseType=('camel'|'snake'|'pascal')
;

IntConstraint:
	Comparator INT | GeneralConstraint
;

BoolConstraint:
	(Comparator TermBool | GeneralConstraint)
;

IPConstraint:
	GeneralConstraint | Comparator TermIP
;

GeneralConstraint:
	'requires' ref=[Entry] | 'optional'
;

Comparator:
	comparator=('<' | '>' | '<=' | '>=' |'!'|'=')
;

TermBool:
	'true' | 'false'
;

TermIP:
	INT'.'INT'.'INT'.'INT | 'localhost'
;

Entry: 
	name=ID':' (type=Type | '{' entries+=Entry* '}')
;
